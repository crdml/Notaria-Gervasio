<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contacto</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="assets/favicon.ico" type="image/ico">"
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark fixed-top custom-navbar">
        <div class="container">
            <a class="navbar-brand fw-bold text-white" href="index.html">
                <i class="fa-solid fa-file-signature me-2"></i>NOTARÍA GERVASIO
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav gap-2 align-items-center">
                    <li class="nav-item"><a class="nav-link" href="index.html">Inicio</a></li>
                    <li class="nav-item"><a class="nav-link" href="quehacemos.html">Qué Hacemos</a></li>
                    <li class="nav-item"><a class="nav-link" href="quienessomos.html">Quiénes Somos</a></li>
                    <li class="nav-item"><a class="nav-link" href="preguntas.html">Preguntas Frecuentes</a></li>
                    <li class="nav-item"><a class="nav-link" href="ubicacion.html">Ubicación</a></li>
                    <li class="nav-item"><a class="nav-link" href="fotos.html">Fotos</a></li>
                    <li class="nav-item">
                        <a class="btn btn-light text-primary fw-bold rounded-pill px-4 ms-2" href="contacto.html">Contacto</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <header class="page-header" style="background-image: url('https://images.unsplash.com/photo-1423666639041-f56000c27a9a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80');">
        <div class="header-overlay"></div>
        <div class="container header-content">
            <h1 class="display-4 fw-bold font-playfair text-white">Contáctenos</h1>
            <p class="lead text-white">Estamos aquí para resolver sus dudas y recibir sus comentarios.</p>
        </div>
    </header>

    <section class="py-5 bg-light">
        <div class="container">
            <div class="row g-5">
                
                <div class="col-lg-7">
                    <div class="card border-0 shadow-sm p-4 h-100">
                        <div class="card-body">
                            
                            <ul class="nav nav-tabs mb-4" id="myTab" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" id="general-tab" data-bs-toggle="tab" data-bs-target="#general" type="button" role="tab" aria-selected="true">
                                        <i class="fa-regular fa-envelope me-2"></i>Consulta General
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="oirs-tab" data-bs-toggle="tab" data-bs-target="#oirs" type="button" role="tab" aria-selected="false">
                                        <i class="fa-solid fa-bullhorn me-2"></i>Felicitaciones, Reclamos y Sugerencias
                                    </button>
                                </li>
                            </ul>

                            <div class="tab-content" id="myTabContent">
                                
                                <div class="tab-pane fade show active" id="general" role="tabpanel">
                                    <h4 class="font-playfair mb-3 text-primary">Envíenos un mensaje</h4>
                                    
                                    <div id="success-general" class="alert alert-success d-none text-center">
                                        <i class="fa-solid fa-check-circle fs-3 mb-2"></i><br>
                                        <strong>¡Consulta enviada correctamente!</strong><br>
                                        Nos pondremos en contacto a la brevedad.
                                    </div>

                                    <form id="form-general">
                                        <input type="hidden" name="_subject" value="Nueva Consulta Web - Notaría Gervasio">
                                        <input type="hidden" name="_captcha" value="false">

                                        <div class="row g-3">
                                            <div class="col-md-6">
                                                <div class="form-floating">
                                                    <input type="text" class="form-control" name="nombre" placeholder="Su Nombre" required>
                                                    <label>Nombre Completo</label>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-floating">
                                                    <input type="email" class="form-control" name="email" placeholder="Email" required>
                                                    <label>Correo Electrónico</label>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-floating">
                                                    <select class="form-select" name="asunto">
                                                        <option selected>Consulta General</option>
                                                        <option value="Escrituras Públicas">Escrituras Públicas</option>
                                                        <option value="Vehículos">Vehículos</option>
                                                        <option value="Autorizaciones">Autorizaciones</option>
                                                    </select>
                                                    <label>Asunto</label>
                                                </div>
                                            </div>
                                            <div class="col-12">
                                                <div class="form-floating">
                                                    <textarea class="form-control" placeholder="Mensaje" name="mensaje" style="height: 120px" required></textarea>
                                                    <label>Su Mensaje</label>
                                                </div>
                                            </div>
                                            <div class="col-12 mt-3">
                                                <button class="btn btn-primary w-100 py-3 fw-bold" type="submit" id="btn-general">
                                                    Enviar Consulta
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                </div>

                                <div class="tab-pane fade" id="oirs" role="tabpanel">
                                    <h4 class="font-playfair mb-3 text-primary">Libro de Felicitaciones, Sugerencias y Reclamos</h4>
                                    
                                    <div class="alert alert-light border small text-muted mb-3">
                                        <i class="fa-solid fa-circle-info me-2 text-gold"></i>
                                        Su opinión es vital. Este mensaje será derivado directamente a la administración.
                                    </div>

                                    <div id="success-oirs" class="alert alert-success d-none text-center">
                                        <i class="fa-solid fa-check-circle fs-3 mb-2"></i><br>
                                        <strong>¡Solicitud registrada!</strong><br>
                                        Hemos recibido su comentario correctamente.
                                    </div>
                                    
                                    <form id="form-oirs">
                                        <input type="hidden" name="_subject" value="URGENTE: Nuevo Reclamo/Sugerencia OIRS">
                                        <input type="hidden" name="_captcha" value="false">
                                        
                                        <div class="row g-3">
                                            <div class="col-md-12">
                                                <div class="form-floating">
                                                    <select class="form-select border-2 border-warning" name="tipo_solicitud">
                                                        <option selected value="Sugerencia">Sugerencia</option>
                                                        <option value="Reclamo">Reclamo</option>
                                                        <option value="Felicitacion">Felicitación</option>
                                                    </select>
                                                    <label>Tipo de Solicitud</label>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-floating">
                                                    <input type="text" class="form-control" name="nombre" placeholder="Nombre" required>
                                                    <label>Nombre Completo</label>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-floating">
                                                    <input type="text" class="form-control" name="rut" placeholder="RUT">
                                                    <label>RUT (Opcional)</label>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-floating">
                                                    <input type="tel" class="form-control" name="telefono" placeholder="Teléfono" required>
                                                    <label>Teléfono</label>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-floating">
                                                    <input type="email" class="form-control" name="email" placeholder="Email" required>
                                                    <label>Correo Electrónico</label>
                                                </div>
                                            </div>
                                            <div class="col-12">
                                                <div class="form-floating">
                                                    <textarea class="form-control" placeholder="Detalle" name="detalle" style="height: 120px" required></textarea>
                                                    <label>Detalle de su solicitud</label>
                                                </div>
                                            </div>
                                            <div class="col-12 mt-3">
                                                <button class="btn btn-corporate-gold text-white w-100 py-3 fw-bold" type="submit" id="btn-oirs">
                                                    Enviar Comentario
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                </div>

                            </div> </div>
                    </div>
                </div>

                <div class="col-lg-5">
                    <div class="h-100 p-4 rounded-3 bg-corporate-blue">
                        <h3 class="font-playfair mb-4">Información de Contacto</h3>
                        <p class="mb-5 opacity-75">Si prefiere una atención más directa, puede utilizar nuestros canales oficiales o visitarnos en nuestras dependencias.</p>

                        <div class="d-flex align-items-start mb-4">
                            <i class="fa-solid fa-location-dot fs-4 text-gold me-3 mt-1"></i>
                            <div>
                                <h5 class="fw-bold">Ubicación</h5>
                                <p class="mb-0 opacity-75">Calle Arlegui 537<br>Viña del Mar, Valparaíso</p>
                            </div>
                        </div>

                        <div class="d-flex align-items-start mb-4">
                            <i class="fa-solid fa-phone fs-4 text-gold me-3 mt-1"></i>
                            <div>
                                <h5 class="fw-bold">Llámenos</h5>
                                <p class="mb-0"><a href="tel:+56323186925">Central: +56 32 318 6925</a></p>
                            </div>
                        </div>

                        <div class="d-flex align-items-start mb-4">
                            <i class="fa-solid fa-envelope fs-4 text-gold me-3 mt-1"></i>
                            <div>
                                <h5 class="fw-bold">Escríbanos</h5>
                                <p class="mb-0"><a href="mailto:notaria@notariagervasio.cl">notaria@notariagervasio.cl</a></p>
                            </div>
                        </div>

                        <hr class="my-5 border-white opacity-25">

                        <h5 class="fw-bold mb-3">Horario de Atención</h5>
                        <ul class="list-unstyled opacity-75">
                            <li class="d-flex justify-content-between mb-2">
                                <span>Lunes - Viernes:</span>
                                <span>08:45 - 18:00</span>
                            </li>
                            <li class="d-flex justify-content-between text-gold fw-bold">
                                <span>Sábados y Domingos:</span>
                                <span>Cerrado</span>
                            </li>
                        </ul>

                    </div>
                </div>

            </div>
        </div>
    </section>

    <footer class="bg-black text-white py-4 text-center">
        <div class="container">
            <p>&copy; 2026 Notaría Gervasio. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
    /**
     * Función para procesar y enviar formularios a través de FormSubmit.co
     * @param {string} formId - ID del elemento <form>
     * @param {string} btnId - ID del botón de envío
     * @param {string} successId - ID del div con el mensaje de éxito
     * @param {string} emailPrincipal - Correo principal (Destinatario)
     * @param {string} emailsCC - Correos en copia (separados por coma si son varios)
     */
    function enviarFormulario(formId, btnId, successId, emailPrincipal, emailsCC) {
        const form = document.getElementById(formId);
        const btn = document.getElementById(btnId);
        const successMsg = document.getElementById(successId);

        if (!form) return;

        form.addEventListener("submit", function(e) {
            e.preventDefault(); // Evita la recarga de la página

            // Cambiar botón a estado "Enviando..."
            const textoOriginal = btn.innerHTML;
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Enviando...';
            btn.disabled = true;

            // Capturar datos del formulario
            const formData = new FormData(form);
            
            // Si hay correos secundarios, los agregamos como campo oculto de Copia (_cc)
            if (emailsCC) {
                formData.append("_cc", emailsCC);
            }
            
            // Enviar a FormSubmit usando AJAX al correo principal
            fetch(`https://formsubmit.co/ajax/${emailPrincipal}`, {
                method: "POST",
                headers: { 
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: JSON.stringify(Object.fromEntries(formData))
            })
            .then(response => response.json())
            .then(data => {
                // Éxito
                form.reset(); 
                form.classList.add("d-none"); 
                successMsg.classList.remove("d-none"); 
            })
            .catch(error => {
                // Error
                console.error(error);
                alert("Hubo un error al enviar. Por favor intente nuevamente.");
                btn.innerHTML = textoOriginal;
                btn.disabled = false;
            });
        });
    }

    // ==========================================
    // CONFIGURACIÓN DE ENVÍOS A MÚLTIPLES CORREOS
    // ==========================================

    // 1. Formulario Consulta General
    enviarFormulario(
        "form-general", 
        "btn-general", 
        "success-general", 
        "notaria@notariagervasio.cl",     // Correo Principal
        "notario@notariagervasio.cl"      // Correo en Copia
    );

    // 2. Formulario OIRS
    enviarFormulario(
        "form-oirs", 
        "btn-oirs", 
        "success-oirs", 
        "notario@notariagervasio.cl",     // Correo Principal
        "notaria@notariagervasio.cl"      // Correo en Copia
    );
</script>

</body>
</html>